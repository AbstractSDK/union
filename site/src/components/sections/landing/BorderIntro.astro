---
import MatrixCover from "../../MatrixCover.astro"
import H1 from "../../typography/h1.astro"
import ButtonA from "../../ButtonA.astro"
import QuoteSubTitle from "../../typography/QuoteSubTitle.astro"
import {renderRichText, renderTitle} from "../../../lib/contentful/render.ts"

interface Props {
  title: any
  text: any
}

const {title, text} = Astro.props

const titleHtml = renderTitle(title)
const textHtml = renderRichText(text)
---

<div class="header-grid">
  <MatrixCover/>
  <div class="backdrop-blur-2xl max-w-2xl header-text-content p-4 md:p-8 flex flex-col gap-4 m-4">
    <H1>
      <Fragment set:html={titleHtml}/>
    </H1>
    <QuoteSubTitle>
      <Fragment set:html={textHtml}/>
    </QuoteSubTitle>
    <ButtonA href="https://app.union.build">DIVE IN</ButtonA>
  </div>
</div>

<style lang="postcss" is:global>
    .header-grid {
        --outer-border: 0px;
        --inner-border: 0px;
        height: calc(100svh - var(--header-height));
        width: full;
        display: grid;
        grid-template-rows: 0 var(--inner-border) 1fr auto 1fr var(--inner-border) var(--outer-border);
        grid-template-columns: var(--outer-border) var(--inner-border) 1fr auto 1fr var(--inner-border) var(--outer-border);
    }

    .header-grid > canvas {
        grid-area: 3 / 3 / 6 / 6;
        background-color: black;
    }

    .header-text-content {
        grid-area: 4 / 4 / 5 / 5;
    }

</style>
